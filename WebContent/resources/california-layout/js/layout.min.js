PrimeFaces.widget.California=PrimeFaces.widget.BaseWidget.extend({init:function(e){this._super(e),this.wrapper=$(document.body).children(".layout-wrapper"),this.topbar=this.wrapper.children(".layout-topbar"),this.sidebar=this.wrapper.children(".layout-sidebar"),this.layoutMegaMenu=$("#layout-megamenu"),this.nanoContainer=$("#nano-container"),this.menu=this.jq,this.menulinks=this.menu.find("a"),this.expandedMenuitems=this.expandedMenuitems||[],this.menuButton=$("#menu-button"),this.megaMenuButton=$("#layout-megamenu-button"),this.topbarMenuButton=$("#topbar-menu-button"),this.sidebarProfileButton=$("#sidebar-profile-button"),this.sidebarUserMenu=$("#sidebar-usermenu"),this.topbarUserMenu=$("#topbar-usermenu"),this.sidebarUserMenu.length&&(this.usermenuLinks=this.sidebarUserMenu.find("a")),this.topbarUserMenu.length&&(this.usermenuLinks=this.topbarUserMenu.find("a")),this.topbarMenuClick=!1,this.megaMenuClick=!1,this.rightSidebarClick=!1,this.sidebarMenuClick=!1,this._bindEvents(),this.wrapper.hasClass("menu-layout-horizontal")||this.restoreMenuState(),this.nanoContainer.nanoScroller({flash:!0})},_bindEvents:function(){var e=this;$(function(){e.menuButton.off("click").on("click",function(i){e.sidebarMenuClick=!0,e.isDesktop()?e.isOverlay()?e.wrapper.toggleClass("layout-wrapper-overlay-sidebar-active"):e.wrapper.toggleClass("layout-wrapper-sidebar-inactive"):e.wrapper.toggleClass("layout-wrapper-sidebar-mobile-active"),i.preventDefault()}),e.megaMenuButton.off("click").on("click",function(i){e.megaMenuClick=!0,e.layoutMegaMenu.hasClass("layout-megamenu-active")?(e.layoutMegaMenu.removeClass("fadeInDown").addClass("fadeOutUp"),setTimeout(function(){e.layoutMegaMenu.removeClass("layout-megamenu-active fadeOutUp"),$(document.body).removeClass("body-megamenu-active")},250)):($(document.body).addClass("body-megamenu-active"),e.layoutMegaMenu.addClass("layout-megamenu-active fadeInDown")),i.preventDefault()}),e.layoutMegaMenu.off("click").on("click",function(i){e.megaMenuClick=!0}),e.topbarMenuButton.off("click").on("click",function(i){e.topbarUserMenu.css({top:"60px",right:"0",left:"auto"}),e.topbarMenuClick=!0,e.topbarUserMenu.hasClass("usermenu-active")?(e.topbarUserMenu.removeClass("fadeInDown").addClass("fadeOutUp"),setTimeout(function(){e.topbarUserMenu.removeClass("usermenu-active fadeOutUp")},250)):e.topbarUserMenu.addClass("usermenu-active fadeInDown"),i.preventDefault()}),e.topbarUserMenu.off("click").on("click",function(i){e.topbarMenuClick=!0}),e.menulinks.off("click").on("click",function(i){var t=$(this).parent(),n=t.children("ul");t.hasClass("active-menuitem")?n.length&&(e.removeMenuitem(t.attr("id")),t.removeClass("active-menuitem"),n.slideUp()):(e.addMenuitem(t.attr("id")),e.deactivateItems(t.siblings(),!0),e.activate(t)),setTimeout(function(){e.nanoContainer.nanoScroller()},500),n.length&&i.preventDefault()}),e.sidebarProfileButton.off("click").on("click",function(i){e.sidebarUserMenu.slideToggle(),setTimeout(function(){e.nanoContainer.nanoScroller(),e.setInlineProfileState(null!=e.sidebarUserMenu.get(0).offsetParent)},500),i.preventDefault()}),e.usermenuLinks.on("click",function(i){var t=$(this),n=t.parent(),a=t.next();e.usermenuLinkClick=!0,n.siblings(".menuitem-active").removeClass("menuitem-active").children("ul").slideUp(),n.hasClass("menuitem-active")?(n.removeClass("menuitem-active"),a.slideUp()):(n.addClass("menuitem-active"),a.slideDown()),a.length&&i.preventDefault()}),e.sidebar.off("click").on("click",function(){e.sidebarMenuClick=!0}),$(document.body).off("click").on("click",function(){!e.topbarMenuClick&&e.topbarUserMenu.hasClass("usermenu-active")&&e.topbarUserMenu.removeClass("usermenu-active"),!e.megaMenuClick&&e.layoutMegaMenu.hasClass("layout-megamenu-active")&&(e.layoutMegaMenu.removeClass("layout-megamenu-active"),$(document.body).removeClass("body-megamenu-active")),!e.rightSidebarClick&&e.rightSidebar.hasClass("layout-right-sidebar-active")&&e.rightSidebar.removeClass("layout-right-sidebar-active"),e.sidebarMenuClick||!e.wrapper.hasClass("layout-wrapper-sidebar-mobile-active")&&!e.wrapper.hasClass("layout-wrapper-overlay-sidebar-active")||e.wrapper.removeClass("layout-wrapper-sidebar-mobile-active layout-wrapper-overlay-sidebar-active"),e.megaMenuClick=!1,e.topbarMenuClick=!1,e.rightSidebarClick=!1,e.sidebarMenuClick=!1}),e._initRightSidebar()})},activate:function(e){var i=e.children("ul");e.addClass("active-menuitem"),i.length&&i.slideDown()},deactivate:function(e){var i=e.children("ul");e.removeClass("active-menuitem"),i.length&&i.hide()},deactivateItems:function(e,i){for(var t=this,n=0;n<e.length;n++){var a=e.eq(n),s=a.children("ul");if(s.length)if(a.hasClass("active-menuitem")){var r=a.find(".active-menuitem");a.removeClass("active-menuitem"),a.find(".ink").remove(),i?s.slideUp("normal",function(){$(this).parent().find(".active-menuitem").each(function(){t.deactivate($(this))})}):(s.hide(),a.find(".active-menuitem").each(function(){t.deactivate($(this))})),t.removeMenuitem(a.attr("id")),r.each(function(){t.removeMenuitem($(this).attr("id"))})}else a.find(".active-menuitem").each(function(){var e=$(this);t.deactivate(e),t.removeMenuitem(e.attr("id"))});else a.hasClass("active-menuitem")&&(t.deactivate(a),t.removeMenuitem(a.attr("id")))}},removeMenuitem:function(e){this.expandedMenuitems=$.grep(this.expandedMenuitems,function(i){return i!==e}),this.saveMenuState()},addMenuitem:function(e){-1===$.inArray(e,this.expandedMenuitems)&&this.expandedMenuitems.push(e),this.saveMenuState()},saveMenuState:function(){$.cookie("california_expandeditems",this.expandedMenuitems.join(","),{path:"/"})},clearMenuState:function(){$.removeCookie("california_expandeditems",{path:"/"})},setInlineProfileState:function(e){e?$.cookie("california_inlineprofile_expanded","1",{path:"/"}):$.removeCookie("california_inlineprofile_expanded",{path:"/"})},restoreMenuState:function(){var e=$.cookie("california_expandeditems");if(e){this.expandedMenuitems=e.split(",");for(var i=0;i<this.expandedMenuitems.length;i++){if(this.expandedMenuitems[i]){var t=$("#"+this.expandedMenuitems[i].replace(/:/g,"\\:"));t.addClass("active-menuitem");var n=t.children("ul");n.length&&n.show()}}}$.cookie("california_inlineprofile_expanded")&&this.sidebarUserMenu.show()},enableModal:function(){this.modal=this.wrapper.append('<div class="layout-mask"></div>').children(".layout-mask")},disableModal:function(){this.modal.remove()},isOverlay:function(){return this.wrapper.hasClass("layout-wrapper-overlay-sidebar")},isTablet:function(){var e=window.innerWidth;return e<=1024&&e>640},isDesktop:function(){return window.innerWidth>1024},isMobile:function(){return window.innerWidth<=640},_initRightSidebar:function(){var e=this;this.rightSidebarButton=$("#right-sidebar-button"),this.rightSidebar=$("#layout-right-sidebar"),this.rightSidebarButton.off("click").on("click",function(i){e.rightSidebar.toggleClass("layout-right-sidebar-active"),e.rightSidebarClick=!0,i.preventDefault()}),this.rightSidebar.off("click").on("click",function(i){e.rightSidebarClick=!0,i.preventDefault()})},closeRightSidebarMenu:function(){this.rightSidebar&&this.rightSidebar.removeClass("right-sidebar-active")}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function i(e){return s.raw?e:encodeURIComponent(e)}function t(e){return s.raw?e:decodeURIComponent(e)}function n(i,t){var n=s.raw?i:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(e){}}(i);return e.isFunction(t)?t(n):n}var a=/\+/g,s=e.cookie=function(a,r,o){if(arguments.length>1&&!e.isFunction(r)){if("number"==typeof(o=e.extend({},s.defaults,o)).expires){var u=o.expires,c=o.expires=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*u)}return document.cookie=[i(a),"=",function(e){return i(s.json?JSON.stringify(e):String(e))}(r),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var l=a?void 0:{},d=document.cookie?document.cookie.split("; "):[],m=0,h=d.length;m<h;m++){var p=d[m].split("="),f=t(p.shift()),v=p.join("=");if(a===f){l=n(v,r);break}a||void 0===(v=n(v))||(l[f]=v)}return l};s.defaults={},e.removeCookie=function(i,t){return e.cookie(i,"",e.extend({},t,{expires:-1})),!e.cookie(i)}}),window.PrimeFaces&&window.PrimeFaces.widget.Dialog&&(PrimeFaces.widget.Dialog=PrimeFaces.widget.Dialog.extend({enableModality:function(){this._super(),$(document.body).children(this.jqId+"_modal").addClass("ui-dialog-mask")},syncWindowResize:function(){}})),PrimeFaces.widget.InputSwitch&&(PrimeFaces.widget.InputSwitch=PrimeFaces.widget.InputSwitch.extend({init:function(e){this._super(e),this.input.prop("checked")&&this.jq.addClass("ui-inputswitch-checked")},toggle:function(){var e=this;this.input.prop("checked")?(this.uncheck(),setTimeout(function(){e.jq.removeClass("ui-inputswitch-checked")},100)):(this.check(),setTimeout(function(){e.jq.addClass("ui-inputswitch-checked")},100))}})),window.PrimeFaces&&window.PrimeFaces.widget.Schedule&&(PrimeFaces.widget.Schedule=PrimeFaces.widget.Schedule.extend({setupEventSource:function(){var e=this,i=6e4*moment().utcOffset();this.cfg.events=function(t,n,a,s){var r={source:e.id,process:e.id,update:e.id,formId:e.cfg.formId,params:[{name:e.id+"_start",value:t.valueOf()+i},{name:e.id+"_end",value:n.valueOf()+i}],onsuccess:function(i,t,n){return PrimeFaces.ajax.Response.handle(i,t,n,{widget:e,handle:function(e){s($.parseJSON(e).events)}}),!0}};PrimeFaces.ajax.Request.handle(r)}}}));